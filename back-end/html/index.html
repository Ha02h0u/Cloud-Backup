<html>

<head>
    <title>接口样例</title>
</head>

<body>
    <h2>接口样例</h2>
    <h3>登陆</h3>
    <p>接口地址：/login 调用方式：POST 参数：username、password 返回：JSON</p>
    <form action="/login" method="post" target="_blank">
        <p>username: <input type="text" name="username" /></p>
        <p>password: <input type="password" name="password" /></p>
        <input type="reset" value="reset" />
        <input type="submit" value="login" />
    </form>
    <h3>注册</h3>
    <p>接口地址：/register 调用方式：POST 参数：username、password、email 返回：JSON</p>
    <form action="/register" method="post" target="_blank">
        <p>username: <input type="text" name="username" /></p>
        <p>password: <input type="password" name="password" /></p>
        <p>email: <input type="text" name="email" /></p>
        <input type="reset" value="reset" />
        <input type="submit" value="register" />
    </form>
    <h3>修改密码</h3>
    <p>接口地址：/modifypassword 调用方式：POST 参数：username、password、newPassword 返回：JSON</p>
    <form action="/modifypassword" method="post" target="_blank">
        <p>username: <input type="text" name="username" /></p>
        <p>password: <input type="password" name="password" /></p>
        <p>newPassword: <input type="password" name="newPassword" /></p>
        <input type="reset" value="reset" />
        <input type="submit" value="modifypassword" />
    </form>
    <h3>心跳包</h3>
    <p>接口地址：/refresh 调用方式：POST 参数：username、AccessKey 返回：JSON</p>
    <form action="/refresh" method="post" target="_blank">
        <p>username: <input type="text" name="username" /></p>
        <p>AccessKey：<input type="text" name="AccessKey" /></p>
        <input type="reset" value="reset" />
        <input type="submit" value="refresh" />
    </form>
    <h3>发送反馈</h3>
    <p>接口地址：/feedback 调用方式：POST 参数：username、AccessKey、text 返回：JSON</p>
    <form action="/feedback" method="post" target="_blank">
        <p>username: <input type="text" name="username" /></p>
        <p>AccessKey：<input type="text" name="AccessKey" /></p>
        <p>text: <input type="text" name="text" /></p>
        <input type="reset" value="reset" />
        <input type="submit" value="feedback" />
    </form>
    <h3>展示反馈</h3>
    <p>接口地址：/getfeedback 调用方式：POST 参数：username、AccessKey、[page]、[size] 返回：JSON</p>
    <form action="/getfeedback" method="post" target="_blank">
        <p>username: <input type="text" name="username" /></p>
        <p>AccessKey：<input type="text" name="AccessKey" /></p>
        <p>[page](default 1): <input type="text" name="page" /></p>
        <p>[size](default 5): <input type="text" name="size" /></p>
        <input type="reset" value="reset" />
        <input type="submit" value="getfeedback" />
    </form>
    <h3>上传文件</h3>
    <p>接口地址：/upload 调用方式：POST 参数：username、AccessKey、file、md5、path、modTime、aes_key 返回：成功或失败的处理信息</p>
    <form enctype="multipart/form-data" action="/upload" method="post" target="_blank">
        <p>username: <input type="text" name="username" /></p>
        <p>AccessKey：<input type="text" name="AccessKey" /></p>
        <p>file: <input type="file" name="file" /></p>
        <p>md5(32位): <input type="text" name="md5" /></p>
        <p>path: <input type="text" name="path" value="/" /></p>
        <p>path: 云上文件相对目录，不带文件名，不允许为空。任何路径请使用 / 结尾，根目录直接用 / 表示</p>
        <p>modTime: <input type="text" name="modTime" /></p>
        <p>modTime: 本地文件元数据信息（修改日期），请使用10位时间戳表示</p>
        <p>aes_key: <input type="text" name="aes_key" /></p>
        <p>aes_key: 留空表示云上文件不加密存储，否则表示按此key加密（长度 <= 16）</p>
        <input type="reset" value="reset" />
        <input type="submit" value="upload" />
    </form>
    <h3>下载文件</h3>
    <p>接口地址：/download 调用方式：POST 参数：username、AccessKey、filePath、[md5] 返回：错误信息，成功直接返回文件二进制</p>
    <form action="/download" method="post" target="_blank">
        <p>username: <input type="text" name="username" /></p>
        <p>AccessKey: <input type="text" name="AccessKey" /></p>
        <p>filePath: <input type="text" name="filePath" /></p>
        <p>md5: <input type="text" name="md5" /></p>
        <p>md5: 为空表示下载最新版本，否则表示下载指定版本</p>
        <input type="reset" value="reset" />
        <input type="submit" value="download" />
    </form>
    <h3>删除文件</h3>
    <p>接口地址：/delete 调用方式：POST 参数：username、AccessKey、filePath 返回：成功或失败的处理信息</p>
    <p>如果要删除文件夹，请枚举删除文件夹下每一个文件，空文件夹将被自动删除</p>
    <form action="/delete" method="post" target="_blank">
        <p>username: <input type="text" name="username" /></p>
        <p>AccessKey: <input type="text" name="AccessKey" /></p>
        <p>filePath: <input type="text" name="filePath" /></p>
        <input type="reset" value="reset" />
        <input type="submit" value="delete" />
    </form>
    <h3>文件列表</h3>
    <p>接口地址：/filelist 调用方式：POST 参数：username、AccessKey、[filter] 返回：JSON</p>
    <form action="/filelist" method="post" target="_blank">
        <p>username: <input type="text" name="username" /></p>
        <p>AccessKey: <input type="text" name="AccessKey" /></p>
        <p>filter: <input type="text" name="filter" /></p>
        <p>filter: 本参数并非正则表达式，而是限制查询文件名包括filter的文件</p>
        <input type="reset" value="reset" />
        <input type="submit" value="filelist" />
    </form>
    <h3>文件恢复（查询已删除文件的云上现有备份的【文件列表】）</h3>
    <p>接口地址：/recovery 调用方式：POST 参数：username、AccessKey、[filter] 返回：JSON</p>
    <form action="/recovery" method="post" target="_blank">
        <p>username: <input type="text" name="username" /></p>
        <p>AccessKey: <input type="text" name="AccessKey" /></p>
        <p>filter: <input type="text" name="filter" /></p>
        <p>filter: 本参数并非正则表达式，而是限制查询文件名包括filter的文件</p>
        <input type="reset" value="reset" />
        <input type="submit" value="filelist" />
    </form>
    <h3>文件历史版本</h3>
    <p>接口地址：/filehistory 调用方式：POST 参数：username、AccessKey、filePath 返回：JSON</p>
    <p>返回值的JSON内的deleted参数指示用户是否删除过该文件（false则表示用户是通过修改文件形成下个版本的）</p>
    <form action="/filehistory" method="post" target="_blank">
        <p>username: <input type="text" name="username" /></p>
        <p>AccessKey: <input type="text" name="AccessKey" /></p>
        <p>filePath: <input type="text" name="filePath" /></p>
        <input type="reset" value="reset" />
        <input type="submit" value="filehistory" />
    </form>
    <h3>获取服务器环境</h3>
    <p>接口地址：/environment 调用方式：GET</p>
    <form action="/environment" method="get" target="_blank">
        <input type="submit" value="environment" />
    </form>
</body>

</html>